version: '3.1'

networks:
  app-network:
    driver: bridge

services:
    spring:
        build:
            context: ./spring
            dockerfile: Dockerfile
        image: {SERVICES_SPRING_IMAGE_NAME}
        restart: always
        network_mode: "host"
    mysql:
        build:
            context: ./mysql
            dockerfile: Dockerfile
        restart: always
        ports:
            - {MYSQL_PORT}:3306
        volumes:
            - ./mysql_data:/var/lib/mysql
        network_mode: "host"